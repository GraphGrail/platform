$(document).ready(function(){$("div.component-field-repeatable .add-repeatable").on("click",function(){var e=$(this).parents(".component-field-repeatable"),a=e.clone(!0);a.find(".remove-repeatable").removeClass("m--hide"),e.parent().append(a),$(this).addClass("m--hide"),e.find(".remove-repeatable").removeClass("m--hide")}),$("div.component-field-repeatable .remove-repeatable").on("click",function(){var e=$(this).parents(".component-field-repeatable"),a=e.parent();e.remove();var t=a.find(".component-field-repeatable").last();a.find(".add-repeatable").addClass("m--hide"),t.find(".add-repeatable").removeClass("m--hide"),e=a.find(".component-field-repeatable"),e.find(".remove-repeatable").removeClass("m--hide"),1===e.length&&a.find(".remove-repeatable").addClass("m--hide")}),$(".ui-sortable").sortable({handle:"div.m-portlet__head:not(.m-portlet__head--disabled)",connectWith:".ui-sortable",cancel:".sortable-item--disabled",placeholder:"ui-sortable-drop-area",forcePlaceholderSize:!0,start:function(e,a){var t=a.item.closest(".ui-sortable")[0];$(".ui-sortable").not("."+t.className.split(" ")[1]).addClass("prepare-drop")},stop:function(e,a){$(".right-sortable.prepare-drop").removeClass("prepare-drop")},receive:function(e,a){var t=a.item.children(".m-portlet__head").next();a.item.parent().hasClass("left-sortable")?(t.slideUp("fast"),a.item.children(".m-portlet__head").removeClass("toggled")):"none"===t.css("display")&&(t.slideToggle("fast"),a.item.children(".m-portlet__head").toggleClass("toggled"))}}).disableSelection(),$(".ui-sortable .m-portlet__head").click(function(){return $(this).next().slideToggle("fast"),$(this).toggleClass("toggled"),!1}).next().hide()});